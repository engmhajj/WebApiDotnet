# Top-most EditorConfig file
root = true

# Applies to all C# files
[*.cs]

###############
# Formatting  #
###############
indent_style = space
indent_size = 4
insert_final_newline = true
charset = utf-8-bom
end_of_line = crlf
trim_trailing_whitespace = true

###############
# Language    #
###############
dotnet_language_version = latest

################################
# .NET Code Style Preferences  #
################################

# Use var for built-in types
dotnet_style_predefined_type_for_locals_parameters_members = true:suggestion
dotnet_style_predefined_type_for_member_access = true:suggestion

# Use 'var' or explicit type
csharp_style_var_for_built_in_types = true:suggestion
csharp_style_var_when_type_is_apparent = true:suggestion
csharp_style_var_elsewhere = false:suggestion

# Use expression-bodied members
csharp_style_expression_bodied_methods = true:suggestion
csharp_style_expression_bodied_properties = true:suggestion
csharp_style_expression_bodied_operators = true:suggestion
csharp_style_expression_bodied_constructors = false:suggestion

# Prefer pattern matching
csharp_style_pattern_matching_over_is_with_cast_check = true:suggestion
csharp_style_pattern_matching_over_as_with_null_check = true:suggestion

# Prefer conditional delegate call
dotnet_style_conditional_delegate_call = true:suggestion

# Null checks
csharp_style_throw_expression = true:suggestion
csharp_style_conditional_delegate_call = true:suggestion
csharp_style_null_propagation = true:suggestion
csharp_style_prefer_null_check_over_type_check = true:suggestion

##############################
# Naming conventions         #
##############################

# Naming rules format: dotnet_naming_rule.<name>.<option>
# Define symbols, styles, and rules

# Example: Interface should start with I
dotnet_naming_rule.interfaces_should_start_with_i.symbols = interfaces
dotnet_naming_rule.interfaces_should_start_with_i.style = prefix_i
dotnet_naming_rule.interfaces_should_start_with_i.severity = suggestion

dotnet_naming_symbols.interfaces.applicable_kinds = interface
dotnet_naming_symbols.interfaces.applicable_accessibilities = *
dotnet_naming_symbols.interfaces.required_modifiers = *

dotnet_naming_style.prefix_i.required_prefix = I
dotnet_naming_style.prefix_i.capitalization = pascal_case

#####################################
# Analyzer severity (from rulesets) #
#####################################

# Treat warnings as errors
dotnet_analyzer_diagnostic.severity = warning

# Optional: Promote some to errors
# dotnet_diagnostic.CA1822.severity = error
# dotnet_diagnostic.CA1305.severity = warning

###############################
# File ordering and spacing   #
###############################

dotnet_sort_system_directives_first = true
file_header_template = unset
csharp_using_directive_placement = outside_namespace:suggestion

####################
# Misc preferences #
####################

# Prefer explicit access modifiers
dotnet_style_require_accessibility_modifiers = always:suggestion

# Prefer UTF-8 encoding
dotnet_encoding_utf8 = true
